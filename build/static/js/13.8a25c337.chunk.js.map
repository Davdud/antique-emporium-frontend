{"version":3,"sources":["components/Login/Login.js"],"names":["useStyles","makeStyles","theme","root","display","flexWrap","margin","spacing","withoutLabel","marginTop","textField","width","Login","classes","React","useState","amount","password","weight","weightRange","showPassword","email","values","setValues","handleChange","prop","event","target","value","className","container","alignItems","item","type","id","onChange","name","label","placeholder","required","clsx","htmlFor","endAdornment","position","aria-label","onClick","onMouseDown","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","localStorage","setItem","alert","window","location","replace","reload","catch","error","console"],"mappings":"6VAkBMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJC,QAAS,OACTC,SAAU,QAEZC,OAAQ,CACNA,OAAQJ,EAAMK,QAAQ,IAExBC,aAAc,CACZC,UAAWP,EAAMK,QAAQ,IAE3BG,UAAW,CACTC,MAAO,YA+FEC,UA1Ff,WACI,IAAMC,EAAUb,IADH,EAEec,IAAMC,SAAS,CACzCC,OAAQ,GACRC,SAAU,GACVC,OAAQ,GACRC,YAAa,GACbC,cAAc,EACdC,MAAO,KARI,mBAENC,EAFM,KAEEC,EAFF,KAWPC,EAAe,SAACC,GAAD,OAAU,SAACC,GAC9BH,EAAU,2BAAKD,GAAN,kBAAeG,EAAOC,EAAMC,OAAOC,WAqChD,OACE,mCACE,sBAAKC,UAAU,QAAf,UACE,eAAC,IAAD,CAAMC,WAAS,EAACvB,QAAS,EAAGwB,WAAW,WAAvC,UACE,cAAC,IAAD,CAAMC,MAAI,EAAV,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAMA,MAAI,EAAV,SACE,cAAC,IAAD,aAAWC,KAAK,QAAQC,GAAG,uBAAuBC,SAAUX,EAAa,SAAUY,KAAK,QAAQC,MAAM,SAASC,YAAY,QAAQC,UAAQ,GAA3I,OAAiJ,eAGrJ,eAAC,IAAD,CAAaV,UAAWW,YAAK3B,EAAQP,OAAQO,EAAQH,WAArD,UACE,cAAC,IAAD,CAAY+B,QAAQ,8BAApB,uBACA,cAAC,IAAD,CACAH,YAAY,WACZF,KAAK,WACLG,UAAQ,EACNL,GAAG,8BACHD,KAAMX,EAAOF,aAAe,OAAS,WACrCQ,MAAON,EAAOL,SACdkB,SAAUX,EAAa,YACvBkB,aACE,cAAC,IAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC,IAAD,CACEC,aAAW,6BACXC,QA3DkB,WAC9BtB,EAAU,2BAAKD,GAAN,IAAcF,cAAeE,EAAOF,iBA2DjC0B,YAxDkB,SAACpB,GAC/BA,EAAMqB,kBAoDI,SAKGzB,EAAOF,aAAe,cAAC,IAAD,IAAiB,cAAC,IAAD,aAMpD,qBAAKS,UAAU,OAAf,SACJ,wBAAQgB,QA7DmB,WACvBG,MAAM,uDAAwD,CAC5DC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,OAAU,oBAEdC,KAAMC,KAAKC,UAAU,CACnBhC,MAAOC,EAAOD,MACdJ,SAAUK,EAAOL,aAEpBqC,MAAK,SAASC,GACb,OAAOA,EAAIC,UACZF,MAAK,SAASG,GACG,MAAfA,EAAKC,QACNC,aAAaC,QAAQ,QAASH,EAAKA,MACnCI,MAAM,yBACNC,OAAOC,SAASC,QAAQ,OAExBH,MAAM,qDACNC,OAAOC,SAASE,aAEjBC,OAAM,SAASC,GACdC,QAAQD,MAAMA,OAsCelC,KAAK,SAASJ,UAAU,SAA3D","file":"static/js/13.8a25c337.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport FilledInput from '@material-ui/core/FilledInput';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport './Login.css'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n    },\n    margin: {\n      margin: theme.spacing(1),\n    },\n    withoutLabel: {\n      marginTop: theme.spacing(3),\n    },\n    textField: {\n      width: '25ch',\n    },\n  }));\n  \n\nfunction Login() {\n    const classes = useStyles();\n    const [values, setValues] = React.useState({\n      amount: '',\n      password: '',\n      weight: '',\n      weightRange: '',\n      showPassword: false,\n      email: ''\n    });\n  \n    const handleChange = (prop) => (event) => {\n      setValues({ ...values, [prop]: event.target.value });\n    };\n  \n    const handleClickShowPassword = () => {\n      setValues({ ...values, showPassword: !values.showPassword });\n    };\n  \n    const handleMouseDownPassword = (event) => {\n      event.preventDefault();\n    };\n\n    const handleFormSubmit = () => {\n      fetch(\"https://antique-emporium-backend.herokuapp.com/login\", {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          email: values.email,\n          password: values.password\n        })\n    }).then(function(res) {\n        return res.json()\n    }).then(function(data) {\n      if(data.status == \"OK\") {\n        localStorage.setItem(\"token\", data.data)\n        alert(\"Login was succusfull!\");\n        window.location.replace(\"/\");\n      } else {\n        alert(\"Your credentials were wrong :(. Please try again!\")\n        window.location.reload();\n      }\n    }).catch(function(error) {\n        console.error(error)\n    })\n    }\n  return (\n    <>\n      <div className=\"login\">\n        <Grid container spacing={1} alignItems=\"flex-end\">\n          <Grid item>\n            <AccountCircle />\n          </Grid>\n          <Grid item>\n            <TextField type=\"email\" id=\"input-with-icon-grid\" onChange={handleChange('email')} name=\"email\" label=\"Email:\" placeholder=\"Email\" required name=\"email\" />\n          </Grid>\n        </Grid>\n        <FormControl className={clsx(classes.margin, classes.textField)}>\n          <InputLabel htmlFor=\"standard-adornment-password\">Password:</InputLabel>\n          <Input\n          placeholder=\"Password\"\n          name=\"password\"\n          required\n            id=\"standard-adornment-password\"\n            type={values.showPassword ? 'text' : 'password'}\n            value={values.password}\n            onChange={handleChange('password')}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle password visibility\"\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                >\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      <div className=\"wrap\">\n  <button onClick={handleFormSubmit} type=\"submit\" className=\"button\">Log in</button>\n</div>\n</div>\n</>\n  );\n}\nexport default Login;"],"sourceRoot":""}